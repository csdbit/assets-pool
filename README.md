# å›¾åºŠç³»ç»Ÿ (Image Hosting System)

ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„å›¾ç‰‡æ‰˜ç®¡æœåŠ¡ï¼ŒåŸºäº Reactã€TypeScriptã€Express.js å’Œ Prisma æ„å»ºã€‚æä¾›å›¾ç‰‡ä¸Šä¼ ã€å­˜å‚¨ã€ç®¡ç†å’Œåˆ†äº«åŠŸèƒ½ï¼Œæ”¯æŒè‡ªåŠ¨ç”Ÿæˆå¤šç§å°ºå¯¸çš„å›¾ç‰‡ç‰ˆæœ¬ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ–¼ï¸ **å¤šå°ºå¯¸å›¾ç‰‡å¤„ç†** - è‡ªåŠ¨ç”ŸæˆåŸå›¾ã€å¤§å›¾ã€ä¸­å›¾ã€å°å›¾å¤šä¸ªç‰ˆæœ¬
- ğŸ‘¤ **ç”¨æˆ·ç³»ç»Ÿ** - æ³¨å†Œã€ç™»å½•ã€ä¸ªäººèµ„æ–™ç®¡ç†ï¼Œæ”¯æŒ JWT è®¤è¯
- ğŸ’¾ **å­˜å‚¨ç®¡ç†** - ç”¨æˆ·å­˜å‚¨é…é¢æ§åˆ¶ï¼ˆé»˜è®¤ 1GBï¼Œå¯é…ç½®ï¼‰
- ğŸ”— **å›¾ç‰‡åˆ†äº«** - ç”Ÿæˆå¯åˆ†äº«é“¾æ¥ï¼Œæ”¯æŒè®¾ç½®è¿‡æœŸæ—¶é—´
- ğŸ›¡ï¸ **æƒé™æ§åˆ¶** - åŒºåˆ†æ™®é€šç”¨æˆ·å’Œç®¡ç†å‘˜è§’è‰²
- ğŸš¦ **å®‰å…¨é˜²æŠ¤** - é€Ÿç‡é™åˆ¶ã€æ–‡ä»¶éªŒè¯ã€CORS ä¿æŠ¤
- ğŸ“Š **ç®¡ç†åå°** - ç®¡ç†å‘˜ä»ªè¡¨ç›˜ï¼ŒæŸ¥çœ‹ç³»ç»Ÿç»Ÿè®¡å’Œç”¨æˆ·ç®¡ç†
- âš™ï¸ **ç³»ç»Ÿè®¾ç½®** - åŠ¨æ€é…ç½®ç®¡ç†ï¼ˆæ³¨å†Œæ§åˆ¶ã€å­˜å‚¨é™åˆ¶ç­‰ï¼‰

## æŠ€æœ¯æ ˆ

### å‰ç«¯
- React 18 + TypeScript
- Vite æ„å»ºå·¥å…·
- React Router DOM v7 è·¯ç”±ç®¡ç†
- Zustand çŠ¶æ€ç®¡ç†
- TailwindCSS UI æ¡†æ¶
- Lucide React å›¾æ ‡åº“

### åç«¯
- Express.js (CommonJS)
- Prisma ORM + MySQL æ•°æ®åº“
- JWT èº«ä»½éªŒè¯
- Sharp å›¾ç‰‡å¤„ç†
- Express Rate Limit é€Ÿç‡é™åˆ¶
- Multer æ–‡ä»¶ä¸Šä¼ 

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16
- MySQL >= 5.7
- pnpm åŒ…ç®¡ç†å™¨

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <repository-url>
cd assets-pool
```

2. **å®‰è£…ä¾èµ–**
```bash
pnpm install
```

3. **ç¯å¢ƒé…ç½®**

å¤åˆ¶ `.env.example` æ–‡ä»¶ä¸º `.env` å¹¶é…ç½®ï¼š

```env
# æ•°æ®åº“é…ç½®
DATABASE_URL="mysql://username:password@localhost:3306/assets_pool"

# JWT é…ç½®
JWT_SECRET="your-super-secret-jwt-key-here"

# æœåŠ¡å™¨ç«¯å£
PORT=3001
VITE_PORT=5173

# å…¶ä»–é…ç½®è§ .env.example
```

4. **åˆå§‹åŒ–æ•°æ®åº“**

æ–¹å¼ä¸€ï¼šä½¿ç”¨ Prisma è¿ç§»
```bash
npx prisma generate
npx prisma migrate dev
```


5. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
```bash
# åŒæ—¶å¯åŠ¨å‰ç«¯å’Œåç«¯
pnpm dev:full

# æˆ–åˆ†åˆ«å¯åŠ¨
pnpm dev        # å‰ç«¯ (é»˜è®¤ç«¯å£ 5173)
pnpm dev:server # åç«¯ (é»˜è®¤ç«¯å£ 3001)
```

## é¡¹ç›®ç»“æ„

```
assets-pool/
â”œâ”€â”€ src/                    # å‰ç«¯æºä»£ç 
â”‚   â”œâ”€â”€ components/         # React ç»„ä»¶
â”‚   â”œâ”€â”€ pages/             # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ store/             # Zustand çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ lib/               # å·¥å…·å‡½æ•°å’Œ API å®¢æˆ·ç«¯
â”‚   â””â”€â”€ main.tsx           # å‰ç«¯å…¥å£
â”œâ”€â”€ server/                # åç«¯æºä»£ç 
â”‚   â”œâ”€â”€ routes/            # API è·¯ç”±
â”‚   â”œâ”€â”€ middleware/        # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ config/            # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ index.cjs          # åç«¯å…¥å£
â”œâ”€â”€ prisma/                # æ•°æ®åº“ç›¸å…³
â”‚   â”œâ”€â”€ schema.prisma      # æ•°æ®åº“æ¨¡å‹
â”‚   â”œâ”€â”€ init.sql          # åˆå§‹åŒ– SQL
â”‚   â””â”€â”€ migrations/        # æ•°æ®åº“è¿ç§»
â”œâ”€â”€ public/                # é™æ€èµ„æº
â””â”€â”€ scripts/               # å·¥å…·è„šæœ¬
```

## å¸¸ç”¨å‘½ä»¤

```bash
# å¼€å‘
pnpm dev:full              # åŒæ—¶è¿è¡Œå‰åç«¯
pnpm dev                   # ä»…è¿è¡Œå‰ç«¯
pnpm dev:server           # ä»…è¿è¡Œåç«¯

# æ„å»º
pnpm build                # æ„å»ºå‰ç«¯ç”Ÿäº§ç‰ˆæœ¬

# ä»£ç æ£€æŸ¥
pnpm check               # TypeScript ç±»å‹æ£€æŸ¥
pnpm lint                # ESLint ä»£ç æ£€æŸ¥

# æ•°æ®åº“
npx prisma studio        # æ‰“å¼€ Prisma Studio GUI
npx prisma migrate dev   # åˆ›å»ºæ–°çš„æ•°æ®åº“è¿ç§»
```

## API ç«¯ç‚¹

### è®¤è¯ç›¸å…³
- `POST /api/auth/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•  
- `GET /api/auth/verify` - éªŒè¯ç™»å½•çŠ¶æ€

### å›¾ç‰‡ç®¡ç†
- `POST /api/images/upload` - ä¸Šä¼ å›¾ç‰‡
- `GET /api/images` - è·å–å›¾ç‰‡åˆ—è¡¨
- `DELETE /api/images/:id` - åˆ é™¤å›¾ç‰‡

### ç”¨æˆ·ç®¡ç†
- `GET /api/users/profile` - è·å–ä¸ªäººèµ„æ–™
- `PUT /api/users/profile` - æ›´æ–°ä¸ªäººèµ„æ–™

### ç®¡ç†å‘˜åŠŸèƒ½
- `GET /api/admin/dashboard` - ç®¡ç†å‘˜ä»ªè¡¨ç›˜æ•°æ®
- `GET /api/admin/users` - ç”¨æˆ·åˆ—è¡¨ç®¡ç†

### ç³»ç»Ÿè®¾ç½®
- `GET /api/settings/public` - è·å–å…¬å¼€ç³»ç»Ÿè®¾ç½®

## ç¯å¢ƒå˜é‡è¯´æ˜

å®Œæ•´çš„ç¯å¢ƒå˜é‡é…ç½®è¯·å‚è€ƒ `.env.example` æ–‡ä»¶ï¼Œä¸»è¦åŒ…æ‹¬ï¼š

- æ•°æ®åº“è¿æ¥é…ç½®
- JWT è®¤è¯é…ç½®
- æœåŠ¡å™¨ç«¯å£é…ç½®
- æ–‡ä»¶ä¸Šä¼ é™åˆ¶
- å­˜å‚¨é…é¢è®¾ç½®
- å®‰å…¨ç›¸å…³é…ç½®

## å¼€å‘æŒ‡å—

è¯¦ç»†çš„å¼€å‘æŒ‡å—è¯·å‚è€ƒ [CLAUDE.md](./CLAUDE.md) æ–‡ä»¶ã€‚

## è®¸å¯è¯

Â© 2025 å›¾åºŠç³»ç»Ÿ. ä¿ç•™æ‰€æœ‰æƒåˆ©.